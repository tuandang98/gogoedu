{% load notifications_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    {% block title %}<title>Gogoedu</title>{% endblock %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Unicat project">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'styles/bootstrap4/bootstrap.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}" >
	<link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/owl.theme.default.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/animate.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'styles/main_styles.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'styles/responsive.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'styles/header.css' %}">
    {% block css %}{% endblock %}
    <style>
        .notification {
          color: white;
          text-decoration: none;
          padding: 15px 26px;
          position: relative;
          display: inline-block;
          border-radius: 2px;
        }
         
        .notification .badge {
          position: absolute;
          top: 2px;
          right: 30px;
          padding: 5px 10px;
          border-radius: 50%;
          background-color: red;
          color: white;
        }
        </style>
</head>
<body>
    <div id="userid" data-id="{{request.user.id}}" class="super_container">
        {% include "header.html" %}
        {% block content %}{% endblock %}
        
        {% block footer %}
            <footer class="footer">
                {% include "footer.html" %}
            </footer>
        {% endblock %}
    </div>
    {% block plugin %}
        <script src="{% static 'js/jquery-3.2.1.min.js'%}"></script>
        <script src="{% static 'styles/bootstrap4/popper.min.js'%}"></script>
        <script src="{% static 'styles/bootstrap4/bootstrap.min.js'%}"></script>
        <script src="{% static 'plugins/greensock/TweenMax.min.js'%}"></script>
        <script src="{% static 'plugins/greensock/TimelineMax.min.js'%}"></script>
        <script src="{% static 'plugins/scrollmagic/ScrollMagic.min.js'%}"></script>
        <script src="{% static 'plugins/greensock/animation.gsap.min.js'%}"></script>
        <script src="{% static 'plugins/greensock/ScrollToPlugin.min.js'%}"></script>
        <script src="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.js'%}"></script>
        <script src="{% static 'plugins/easing/easing.js'%}"></script>
        <script src="{% static 'plugins/parallax-js-master/parallax.min.js'%}"></script>
        <script src="{% static 'js/custom.js'%}"></script>
    {% endblock %}
    <script src="{% static 'notifications/notify.js' %}" type="text/javascript"></script>
    {% register_notify_callbacks callbacks='fill_notification_list,fill_notification_badge' %}
    <script>
        $('#mission').on('click',function(){
        var userid = $("#userid").data('id')
        // var pointdaset = $(".badge badge-success")
        $.ajax({
            method: "GET",
            url: '/gogoedu/mission/',
            data: {
                user_id:userid,
            },
            success: function (data) {
                point=data.point
                word=data.word,
                dict=data.dict,
                wordp=data.wordp,
                kanji=data.kanji,
                kanjip=data.kanjip,
                reading=data.reading,
                readingp=data.readingp,
                listening=data.listening,
                listeningp=data.listeningp,
                dailylogin=data.dailylogin,
                grammar=data.grammar,
                grammarp=data.grammarp
                setPoint()
               
            },
    })
    function setPoint(){
        $("#point").text(point)
        $("#word").text(word)
        $("#kanji").text(kanji)
        $("#reading").text(reading)
        $("#listening").text(listening)
        $("#grammar").text(grammar)
        $("#wordp").text(wordp+"%")
        $("#kanjip").text(kanjip+"%")
        $("#readingp").text(readingp+"%")
        $("#listeningp").text(listeningp+"%")
        $("#grammarp").text(grammarp+"%")
        $("#wordp").attr('aria-valuenow', wordp).css('width', wordp+'%');
        $("#kanjip").attr('aria-valuenow', kanjip).css('width', kanjip+'%');
        $("#readingp").attr('aria-valuenow', readingp).css('width', readingp+'%');
        $("#listeningp").attr('aria-valuenow', listeningp).css('width', listeningp+'%');
        $("#grammarp").attr('aria-valuenow', grammarp).css('width', grammarp+'%');
        $("#dailyloginp").attr('aria-valuenow', dailylogin*20).css('width', dailylogin*20+'%');
        $("#dailyloginp").text(dailylogin*20+"%")
    }
    })
   
    $('#form_message').submit(function(e){
        e.preventDefault();
        url = $(this).attr('action')
        data = $(this).serialize();
        $('#exampleModal').modal('toggle'); 
        $.post(url, data, function(data){
            
        })
    })
    $('#input-text').submit(function(e){
        e.preventDefault();
        url = $(this).attr('action')
        data = $(this).serialize();
        $(this).trigger("reset");
        $.post(url, data, function(data){
            
            $('#todolist').append(data);
            
            
        })
    })
    </script>
    {% block javascript %}
    {% endblock %}
</body>
</html>
